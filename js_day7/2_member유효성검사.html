<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://kit.fontawesome.com/549cf86879.js" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gothic+A1:wght@100&family=Nanum+Myeongjo&family=Source+Sans+Pro:wght@200&display=swap');
        *{
            font-family: 'Nanum Myeongjo', serif;
        }
        table{
            border-top: 1px solid gray;
            border-bottom: 1px solid gray;
        }

        td{
            padding: 10px;
            /* border: 1px dashed gray; */ 
        }
        input,select{
            padding: 10px;
            border-radius: 4px;
            border: 2px solid #ccc;
        }
        input[type=text],input[type=password],input[type=email]{
            width: 70%;
        }
        input[type=number]{
            width: 20%;
        }
        label.title{
            display: inline-block; /*lable태그에는 너비가 적용안됩니다.(block요소가 아님)->너비가 적용되도록 합니다.*/
            padding: 10px;
            width: 70%;
            background-color: #c69;
            border-radius: 4px;
            text-align: center;
            color: white;
        }
        button{
            padding: 7px 15px;
            margin: 7px ;
            background-color: rgb(255, 0, 128);
            border: none;
            color: white;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 4px;
        }
        /* 선택자 : 마우스가 놓여질때 변경될 css */
        button:hover{
            background-color: #c69;
        }

    </style>

</head>
<body>
<div style="width: 70%;margin:auto;"><!--테이블 포함한 박스-->
    <h3 style="text-align: center;">회원등록<i class="fa-solid fa-alien-8bit"></i></h3>
<form action=""> <!--3) 입력요소들이 서버로 전달되기 위해 꼭 필요한 태그입니다.
                                         반드시. 입력요소들은 form 태그안에 작성합니다
                                    4) 입력요소의 값들을 구분하는 식별자는 name속성으로 설정합니다.-->
    <table style="width: 100%;">
        <tr >            <!--for 속성은 연결될 입력요소의 id 속성값으로 합니다-->
            <td><label for="name"class="title">이름</label></td>
            <!-- 1)id속성값은 태그요소를 식별하고 lable 태그와 함께 동작합니다.
                    lable 태그 클릭하면 연결된 입력요소에 포커스가 설정됩니다. -->
            <td><input type="text" id="name" name="name"></td>
        </tr>
        <tr>
            <td><label for="password"class="title">패스워드</label></td>
            <td><input type="password" id="password" name="password"></td>
        </tr>
        <tr>
            <td><label for="email"class="title">이메일</label></td>
            <td><input type="email" id="email" name="email"></td>
        </tr>
        <tr>
            <td><label for="age"class="title">나이</label></td>
            <td><input type="number"value="30"min="20"max="40"id="age" ></td>
            <!-- min,max 설정 삭제 후 함수로 체크하기 -->
        </tr>
        <!-- 7)위의 4개는 사용자가 입력한 값이 value 속성이 됩니다. -->
        <tr>
            <td><label for="addr"class="title">주소</label></td>
            <td>
                <!-- 7)value 속성값이 서버로 전달됩니다. -->
                <select name="addr" id="addr">
                    <option value="서울">서울</option>
                    <option value="인천">인천</option>
                    <option value="대전"selected="selector">대전</option> <!--초기값-->
                    <option value="광주">광주</option>
                    <option value="부산">부산</option>
                </select>
            </td>
        </tr>
        <tr>
            
            <td><label for=""class="title">취미</label></td>
            <td>
                <!-- 2)checked="checked" : 초기선택 (checked 만 써도 됩니다.) -->
                <input type="radio" name="gender"checked="checked" id="male" value="male">
                <label for="male">남자</label>
                <input type="radio" name="gender" id="female" value="female">
                <label for="female">여자</label>
            </td>
        </tr>
        <tr>
            <td><label for=""class="title">취미</label></td>
            <td>
                <!-- 5)checkbox는 다중선택이 가능하고 서버에서는 배열로 처리할수 있습니다.
                           name 속성값이 같도록 합니다.  -->
                <input type="checkbox" id="hobby1" name="hobby"value="축구">
                <label for="hobby1">축구</label>                
                <input type="checkbox"id="hobby2" name="hobby"value="농구">
                <label for="hobby2">농구</label>                      
                <input type="checkbox"id="hobby3" name="hobby"value="스키">
                <label for="hobby3">스키</label>                         
                <input type="checkbox"id="hobby4" name="hobby"value="달리기">
                <label for="hobby4">달리기</label>                           
            </td>
        </tr>
        <tr>
            <td colspan="2" style="text-align: center;"> <!-- 위의 행은 모두 2칸 -> 여기선 합치기-->
                <!-- 6) submit : form의 입력요소 값들을 서버에 전송합니다.(제출) -->
                <!-- <input type="submit" value="가입하기1" > -->
                <button type="submit">가입하기</button>
                <!-- <input type="reset" value="다시쓰기1"> 입력요소의 내용이 초기화 됩니다 -->
                <button type="reset">다시쓰기</button>
                <!-- button 태그를 사용하면 기본이 submit : 버튼을 누르면 함수실행후 기본 데이터 지워짐-->
                <button onclick="valid_check()"type="button">유효성검사</button>
                <!-- 함수만 실행후 기존데이터 남아 있음 -->
                <!-- <input type="button" onclick="valid_check()" value="유효성검사"> -->
            </td>
        </tr>

    </table>
</form>
</div>
<script>
    function valid_check(){
        // 필수입력 이름,이메일로 합니다.
        const frm = document.forms[0];
        const name_ = frm.name;  //name 속성 확인
        const email_ = frm.email;
        const password_ = frm.password;
        let isValid=true;
        const temp = email_.value;      //자주 사용될 것은 변수로 저장
        if(name_.value == ""){
            alert('이름 입력은 필수입니다.')
            name_.focus();
            isValid=false;  //적절하지 못한값에 대한 표시
        }else
        // 패스워드 길이 검사 : 패스워드 길이는 6글자 이상
        if(password_.value.length < 6){
            alert('패스워드는 6글자 이상입니다.')
            password_.focus();      //포커스(커서) 이동하기
            isValid=false;
        }else

        if(email_.value == ""){
            alert('이메일 입력은 필수입니다.')
            email_.focus();
            isValid=false;
        }else
        
        // 이메일 검사 : 1).net 또는 .com으로 끝나야한다. 2)@을 포함해야한다. 논리연산 : &&,||,!

        //temp.endsWith('.net') , temp.endsWith('.com') , temp.indexOf('@')==-1 (찾는 문자열 없을때 -1)
        //참고 : a&&b 의 반대 조건식은 !a||!b , a||b의 반대 조건식은 !a&&!b
        if(!(temp.endsWith('.net')||temp.endsWith('.com')) || temp.indexOf('@')<= 0){       //1)과 2)를 동시에 만족하는 경우가 통과이므로 그 반대로 조건식 작성하세요
            alert('이메일 형식이 잘못되었습니다.')
            email_.focus();
            isValid=false;
        }   //실제 이메일 주소 형식을 검사하는 것은 복잡한 조건이면 이것은 '정규식'이라는 것으로 검사합니다.
        //각자 해보세요 : @ 가 2개인지 검사하기. 첫번째 @ 이후로 문자열을 추출해서 그 중에 @ 가 있으면 안됩니다.
        if(frm.age.value < 20){
            alert('청소년 입니다.')
        }
        // 취미를 1개 이상 꼭 선택하도록 합니다. : 취미 체크박스의 name이 동일한 값 hobby -> 배열로 처리됩니다.
        let cnt=0;
        frm.hobby.forEach(element =>{
            alert(`배열요소 ${element.value} : ${element.checked}`)
            if(element.checked) cnt++;
        });

        if(cnt ==0){
            alert('취미를 1개 이상 선택해 주세요')
            isValid=false;
        }

        if(isValid){
            alert('유효성 검사 통과!!')
            frm.action = '4_success.html';    //유효성 통과완료되면 서버로 데이터 전달하기
                        //처리할 서버의 url(action값)을 아직 모름 그래서 success.html로 이동
            frm.submit();
        }
        else
            alert('유효성 검사 실패!!')

}
</script>
</body>
</html>
























